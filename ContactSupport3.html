<!DOCTYPE html>
<html lang="en-US">
<head>
    <link rel='stylesheet'  href="assets/css/style.css" type='text/css' media='all' />
    <link rel='stylesheet'  href="assets/css/style-custom.css" type='text/css' media='all' />
    <link rel='stylesheet'  href="assets/css/bbpress.css" type='text/css' media='all' />

<body onload="initialize()" class="home page page-id-11 page-template page-template-template-front-page page-template-template-front-page-php">
<!-- #header -->
<header id="header" class="clearfix" role="banner">
    <div class="ht-container">
        <div id="header-inner" class="clearfix">
            <!-- #logo -->
            <div id="logo">
                <a title="Acme" href="index.html">
                    <i class="icon logo" >ACME</i>
                </a>
            </div>
            <!-- /#logo -->
            <!-- #primary-nav -->
            <nav id="primary-nav" role="navigation" class="clearfix">
                <ul id="menu-primary-nav" class="nav sf-menu clearfix">
                    <li class="menu-item "><a href="#">Domains</a></li>
                    <li class="menu-item "><a href="#">Websites</a></li>
                    <li class="menu-item "><a href="#">Email</a></li>
                    <li class="menu-item "><a href="#">Marketing</a></li>
                    <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children "><a href="#">Support +</a>
                        <ul class="sub-menu">
                            <li class="menu-item"><a href="support1.html">Support1</a></li>
                            <li class="menu-item"><a href="support2.html">Support2</a></li>
                            <li class="menu-item"><a href="support3.html">Support3</a></li>
                            <li class="menu-item "><a href="CallingCard1.html">Calling Card 1</a></li>
                            <li class="menu-item "><a href="CallingCard2.html">Calling Card 2</a></li>
                            <li class="menu-item "><a href="ContactSupport1.html">Contact Support 1</a></li>
                            <li class="menu-item "><a href="ContactSupport2.html">Contact Support 2</a></li>
                            <li class="menu-item "><a href="ContactSupport3.html">Contact Support 3</a></li>
                            <li class="menu-item "><a href="i18nFrench.html">Soutenir (French)</a></li>
                            <li class="menu-item "><a href="i18nGeneric.html">Support (All Languages)</a></li>
                        </ul>
                    </li>
                    <li class="menu-item "><a href="IVR.html">IVR</a></li>
                </ul>
            </nav>
            <!-- #primary-nav -->
        </div>
    </div>
</header>
<!-- /#header -->


<!-- #page-header -->
<div id="page-header"class="clearfix" style="text-align:left">
    <div class="ht-container">
        <h1>Contact Support</h1>
        <p>Need help with an Acme product?</p>
    </div>
</div>
<!-- /#page-header -->

<!-- #breadcrumbs -->
<div id="page-subnav" class="clearfix">
    <div class="ht-container">
        <div id="breadcrumbs"><a href="#ContactSupport">Home</a><span class="sep">/</span>Contact Support 3 (Auto-Complete Overlay with just PathName)</div></div>
</div>
<!-- /#breadcrumbs -->

<!-- #primary -->
<div id="primary" class="sidebar-off clearfix">
    <div class="ht-container">

        <!-- #content -->
        <section id="content" role="main">
            <div>
                <div>
                    <input id="consumerName" type="text" placeholder="Name"/>
                    <div>
                        <input id="complainSubject" type="text" placeholder="Subject" onkeydown="onSubjectChange();" style="width: 503px;"/>
                    </div>
                    <div id="container_for_autocomplete" style="position: absolute; margin: -10px 0px 10px;"></div>
                </div>
                <textarea id="complainDesc" rows="4" cols="50" style="height: 200px;">

                </textarea>
                <button onclick="onStartChat()">Start Chat</button>
                <div id="container_for_selfservice" style="position: absolute; margin: -10px 0px 10px;"></div>
            </div>

        </section>
        <!-- #content -->
    </div>
</div>
<!-- #primary -->



<!-- #footer-bottom -->
<footer id="footer" class="clearfix">
    <div id="footer-widgets" class="clearfix">
        <div class="ht-container">
            <div class="row">
                <div id="text-3" class="column col-third widget widget_text"><h4 class="widget-title"><span>About Acme</span></h4>
                    <div class="textwidget"><p>Acme is a domain register and web hosting company.</p>
                        <p>Grow your business by settings up a website and email accounts.</p>
                    </div>
                </div>
                <div id="st_blog_widget-3" class="column col-third widget st_blog_widget">
                    <h4 class="widget-title"><span>Latest News</span></h4>
                    <ul class="clearfix">
                        <li class="clearfix has_thumb">
                            <div class="entry-thumb">
                                <a href="" rel="nofollow">
                                    <img width="60" height="60" src="assets/images/work.jpeg" class="attachment-post-thumbnail wp-post-image" alt="photodune-4086091-hard-work-m" />                        </a>
                            </div>
                            <a class="entry-title" href="" rel="bookmark">Take The Hardwork Out Of Support</a>
                            <div class="entry-meta"><time datetime="2013-03-18">March 18, 2013</time></div>
                        </li>
                        <li class="clearfix has_thumb">
                            <div class="entry-thumb">
                                <a href="" rel="nofollow">
                                    <img width="60" height="60" src="assets/images/handshake.jpg" class="attachment-post-thumbnail wp-post-image" alt="Handshaking" />                        </a>
                            </div>
                            <a class="entry-title" href="" rel="bookmark">Our New Partnership With Handshake</a>
                            <div class="entry-meta"><time datetime="2013-03-18">March 18, 2013</time></div>
                        </li>
                    </ul>
                </div>
                <div id="categories-3" class="column col-third widget widget_categories"><h4 class="widget-title"><span>News Categories</span></h4>		<ul>
                    <li class="cat-item cat-item-2"><a href="" >Announcements</a></li>
                    <li class="cat-item cat-item-3"><a href="" >How-To</a></li>
                    <li class="cat-item cat-item-4"><a href="" >Strategy</a></li>
                </ul>
                </div>
            </div>
        </div>
    </div>


    <div id="footer-bottom" class="clearfix">
        <div class="ht-container">
            <small id="copyright" role="contentinfo">Copyright Â© A Hero Theme.</small>
            <nav id="footer-nav" role="navigation">
                <ul class="nav-footer clearfix">
                    <li class="menu-item menu-item-type-post_type menu-item-object-page current_page_item"><a href="index.html">Home</a></li>
                    <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href="#">Domains</a></li>
                    <li class="menu-item menu-item-type-custom menu-item-object-custom "><a href="#">Websites</a></li>
                    <li class="menu-item menu-item-type-custom menu-item-object-custom "><a href="#">Email</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="#">Marketing</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="support1.html">Support</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="CallingCard1.html">Calling Card</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="IVR.html">IVR</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="ContactSupport1.html">Contact Support 1</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="ContactSupport2.html">Contact Support 2</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="ContactSupport3.html">Contact Support 3</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="i18nFrench.html">Soutenir (French)</a></li>
                    <li class="menu-item menu-item-type-post_type menu-item-object-page "><a href="i18nGeneric.html">Support (All Languages)</a></li>
                </ul>
                <p class="nav-footer clearfix">Use of this site is subject to <a href="https://github.com/seaskymonster/web-reference-app/blob/master/Nexus%20Connect%20JavaScript%20Reference%20App%20EULA%202015-10-13.pdf">Terms and Conditions</a> and <a href="http://www.support.com/legal/site-privacy-policy/">Privacy Policy</a></p>
            </nav>
        </div>
    </div>

</footer>
<!-- /#footer-bottom -->


<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/common.js"></script>
<script src="https://static.nexus.support.com/client/v1.1.1/nexus-connect-sdk.js"></script>
<script>
    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    };

    function initialize() {
        var token = localStorage.getItem('token');
        if(!token) {
            token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0IjoibXljb21wYW55IiwiZCI6Im5leHVzLnN1cHBvcnQuY29tIiwicHJtIjpbImxvZzoqIiwic2Vzc2lvbjpjb25uZWN0Il0sImp0aSI6IjYyMDhlYTRhLWJiZWEtNDQwYi05MjUzLTljYWJjYWNhMzMyYiIsImFwcCI6ImNydW1TUyIsInZlciI6ImNydW1TUyAxLjAiLCJwbHQiOiJicm93c2VyIiwiaWF0IjoxNDQzNTU1MDI1LCJhdWQiOlsiYXBwIiwiYXBpIl0sImlzcyI6IlN1cHBvcnQuY29tIn0.3qN0m6izKRyWGaP334yV-kudFTtZ6jQCpTM2Ne-wB9Y';
        }
        if(token) {
            console.log(token);
            try {
                NexusConnectSDK.initialize(token);
                NexusConnectSDK.setLanguage('en');
                NexusConnectSDK.preserveContext(true);
                NexusConnectSDK.logAction('ContactSupport');
                return token;
            }catch(e){
                console.log(e);
                $("#jwt_token_error").append(html);
            }
        }else{
            $("#jwt_token_error").append(html);
        }
    };

    $(document).ready(function() {
        var token = initialize();
        var fname = "John";
        var lname = "Doe";
        var email = 'john.doe@support.com';
        var phone = Math.floor(Math.random() * 10000000000);
        var externalId = Math.floor((Math.random() * 10000));
        NexusConnectSDK.setEmail(email).setFirstName(fname).setLastName(lname).setPhone(phone).setExternalId(externalId);

    });
    
    function onSubjectChange() {
        setTimeout(function () {
            $('container_for_autocomplete').empty();
            var subject = $('#complainSubject').val();
            //["pathName", "stepName", "stepDescription", "pathDescription"]
            NexusConnectSDK.getAutoComplete(subject, ["pathName"], 'Recommended Articles', document.getElementById('container_for_autocomplete'), document.getElementById('container_for_selfservice'));
        },0);
    }

    function hideSelfservice() {
        $('#container_for_selfservice').css('display', 'none');
    }

    function onStartChat() {
        NexusConnectSDK.setFirstName($('#consumerName').val());
        NexusConnectSDK.showLiveHelp(null, {
            mode: "chat",
            phone:"(408)-830-7906",
            skill:"Sales"
        }).then(
                function(){
                    console.log("Success!");
                },
                function(error){
                    console.log("Error:" + error);
                }
        );
    }
</script>
</body>
</html>
